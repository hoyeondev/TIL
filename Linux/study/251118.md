
# ✅ UART / USB / USB-CDC

## 🔷 1. UART란?

가장 기본적인 시리얼 통신 방식.

### 특징
- TX(송신), RX(수신) 두 개의 선 + GND로 통신
- 전압 레벨: 3.3V/5V
- 속도는 보드레이트(baud rate)로 설정
(예: 115200bps)
- 매우 단순하고 MCU에서 거의 항상 지원함

### 단점
- PC(리눅스)와 바로 연결 불가
  → PC는 UART 포트가 거의 없음
  → USB-to-UART 변환기 필요(FT232, CH340 등)

### 프로젝트에서 UART를 사용할 때 흐름
STM32 ↔ (USB-UART 변환기) ↔ USB ↔ Linux PC

### 리눅스에서 보이기
`/dev/ttyUSB0`
`/dev/ttyACM0 `(CDC일 때)

---

## 🔷 2. USB란?

USB는 단순 통신 규격이 아니라 **"프로토콜이 매우 복잡한 버스 구조".**
  - USB는 Host(PC) ↔ Device(MCU) 구조
  - USB는 단순 데이터 흐름이 아니라
    **프로토콜 + 클래스(class) + 엔드포인트(endpoint)** 개념이 필요

### USB의 핵심 포인트
USB **자체만으로는 시리얼 포트가 아님**.

그래서 MCU가 USB 포트를 갖고 있어도 USB 프로토콜 스택을 구현해야 함.

---

## 🔷 3. USB CDC (Communication Device Class)

> USB 장치를 **"가상 시리얼 포트(USB-UART처럼 작동)"** 로 만들어주는 USB 클래스.

즉:

**👉 MCU에 USB가 있으면서, CDC를 쓰면 PC에서는 그대로 시리얼 포트로 인식**

### 장점
- 별도 USB-UART 변환기 필요 없음
  (케이블만 USB → MCU에 직접 연결)
- PC에서는 자동으로 `/dev/ttyACM0` 등장
- 속도 빠름 (기본 UART보다 월등히 안정적)
- ROS2 ↔ 드라이버 연동도 쉬움

### STM32가 USB-CDC를 사용하면
리눅스에서는 이렇게 보임:

`/dev/ttyACM0`

